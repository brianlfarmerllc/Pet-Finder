$(document).ready(()=>{function a(a){$.post("/api/posts/",a,()=>{window.location.href="/members"})}function b(a){$.post("/api/email/",a)}function c(a){$.get("/api/posts/"+a).then(a=>{a&&(j.val(a.title),m.val(a.body),l.val(a.email),m.val(a.body),k.val(a.location),o.val(a.category),n.val(a.image),h=!0)})}function d(a){$.ajax({method:"PUT",url:"/api/posts",data:a}).then(()=>{window.location.href="/members"})}const e=window.location.search;let f,g,h=!1;-1===e.indexOf("?post_id=")?-1!==e.indexOf("?User_id=")&&(g=e.split("=")[1]):(f=e.split("=")[1],c(f));const i=$("#petForm"),j=$("#title"),k=$("#location"),l=$("#email"),m=$("#body"),n=$("#image"),o=$("#category");o.val("Lost Pet"),$(i).on("submit",c=>{if(c.preventDefault(),console.log(c),j.val().trim()&&k.val().trim()&&l.val().trim()&&m.val().trim()&&o.val().trim()){const c={title:j.val().trim(),location:k.val().trim(),email:l.val().trim(),body:m.val().trim(),image:n.val().trim(),category:o.val().trim(),userId:g};h?(c.id=f,d(c)):(a(c),b(c))}}),c()});